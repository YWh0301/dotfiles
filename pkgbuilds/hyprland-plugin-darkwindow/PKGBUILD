pkgname='hyprland-plugin-darkwindow'
pkgdesc="Hyprland plugin that adds possibility to modify the fragment shader of a specific windows."
pkgver='0.53.3'
pkgrel=1
arch=('x86_64')
url='https://github.com/hyprwm/hyprland-plugins'
license=('BSD')
depends=("hyprland")
makedepends=('git' 'hyprland')
source=("https://github.com/micha4w/Hypr-DarkWindow/archive/refs/tags/v${pkgver}.zip")
sha256sums=('c4e5017f465c418dbdfeefb12e6cf63782982c114b6c90c9226c9e1379e28254')

build() {
    cd "$srcdir/Hypr-DarkWindow-${pkgver}"

    make -j all
}

package() {

    cd "$srcdir/Hypr-DarkWindow-${pkgver}/out"
    install -Dm755 hypr-darkwindow.so "$pkgdir/usr/lib/libhyprdarkwindow.so.${pkgver}"
    install -Dm644 ../LICENSE "$pkgdir/usr/share/licenses/hyprland-plugin-darkwindow/LICENSE"
    cd "$pkgdir/usr/lib/"
    ln -s "./libhyprdarkwindow.so.${pkgver}" libhyprdarkwindow.so
}
